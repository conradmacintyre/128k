{"version":3,"sources":["library.js"],"names":["billboard","document","querySelectorAll","forEach","array","interval","setInterval","i","length","classList","contains","remove","add","cycle","cycleActiveItem","_toConsumableArray","getElementsByClassName","parseInt","getAttribute","userControlledElements","els","elements","fallbackClass","element","identifier","currentTimestamp","Date","getTime","localStorage","closeTrigger","addEventListener","target","currentTime","delay","closedClass","hasAttribute","window","openUCE","registerUCE","imageRefs","cloudUrl","rootUrl","location","hostname","indexOf","pathname","substring","lastIndexOf","href","imageRef","sizeType","dataset","ciType","sizeValue","clientWidth","clientHeight","tagName","src","ci","style","backgroundImage","measureNav","minWidth","parent","parentStyles","getComputedStyle","paddingLeft","paddingRight","nav","navItems","children","item","itemStyles","itemWidth","offsetWidth","marginLeft","marginRight","parentNode","navStateSwitcher","windowHeight","scrollables","scrollableData","scrollResize","innerHeight","index","triggerPoint","elem","distance","offsetParent","offsetTop","getOffsetTop","offset","scrollScroll","windowBottom","scrollY","className","splice","removeEventListener","scrollClass","scrollOffset","scrollData","push","scrollTriggr","tables","breakTheTable","table","width","columnCount","childElementCount","headings","heading","headingText","innerText","trim","setAttribute","amendHeadings","isolateHeadings","resizeTimer","clearTimeout","setTimeout","toggleables","toggleablesCount","toggleableGroups","groupClassCache","toBoolean","_string","JSON","parse","groupToggleCaching","_element","_className","toggle","elementCache","value","toggleIt","_state","_group","_targets","_loop","targs","toggleElement","toggleWithHover","togglePropogation","toggleGroup","toggleTargets","_toggleElement","_toggleGroup","addToToggleableGroups","Modernizr","touchevents","e","stopPropagation","toggleInit","body","popUpContainer","getElementById","popUpBG","popUpClose","popUpLinks","removeContent","appendChild","console","log","closePopUp","link","el","onclick","openPopUp","links","getElementsByTagName","search","scrollAnchors","respond","arguments","undefined","distanceToTop","Math","floor","getBoundingClientRect","top","preventDefault","targetID","this","targetAnchor","querySelector","originalTop","scrollBy","left","behavior","checkIfDone","atBottom","pageYOffset","offsetHeight","tabIndex","focus","history","pushState","clearInterval","_typeof","n","t","o","createElement","p","createElementNS","call","apply","r","fake","f","c","d","_version","_config","classPrefix","enableClasses","enableJSClass","usePrefixes","_q","on","addTest","name","fn","options","addAsyncTest","prototype","u","documentElement","nodeName","toLowerCase","h","split","_prefixes","m","testStyles","s","a","l","id","type","styleSheet","cssText","createTextNode","background","overflow","removeChild","DocumentTouch","join","aliases","Boolean","baseVal","RegExp","replace","v","touch","backToTopButton","$","showBackToTop","scrollTop","addClass","removeClass","click","animate","backToTop","inputs","Array","input","label","nextElementSibling","labelVal","innerHTML","fileName","files","pop"],"mappings":"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","sourcesContent":["/*********************************\n* Page Prep Functions\n**********************************/\n\n//Auto-Convert Images with CloudImg.io\n\t// TODO: Add lazy loading\n \tfunction cloudImage () {\n \t\tlet imageRefs = document.querySelectorAll('[data-ci]');\n \t\tlet cloudUrl = 'https://aditlfvqko.cloudimg.io/v7/';\n \t\tlet rootUrl = window.location.hostname.indexOf('localhost') ? 'https://128k.ca/' + location.pathname.substring(0, location.pathname.lastIndexOf(\"/\")+1) : window.location.href.substring(0, window.location.href.lastIndexOf(\"/\")+1);\n \t\timageRefs.forEach( imageRef => {\n \t\t\tlet sizeType = imageRef.dataset.ciType ? imageRef.dataset.ciType : 'width';\n \t\t\tlet sizeValue = function () {\n \t\t\t\tif (sizeType === 'width') {\n \t\t\t\t\treturn imageRef.clientWidth > 0 ? imageRef.clientWidth : '';\n \t\t\t\t} else {\n \t\t\t\t\treturn imageRef.clientHeight > 0 ? imageRef.clientHeight : '';\n \t\t\t\t}\n \t\t\t}\n \t\t\tif (imageRef.tagName === 'IMG') {\n \t\t\t\timageRef.src = cloudUrl + rootUrl + imageRef.dataset.ci + '?' + sizeType + '=' + sizeValue();\n \t\t\t} else {\n \t\t\t\timageRef.style.backgroundImage = 'url(' + cloudUrl + rootUrl + imageRef.dataset.ci + '?' + sizeType + '=' + sizeValue() + ')';\n \t\t\t}\n \t\t});\n \t} window.addEventListener('load', () => cloudImage());\n\n\n/*********************************\n* Page Interactive Functions\n**********************************/\n\n// Cycle Active Item\n\t// TODO: Document this thing.\n\tfunction cycleActiveItem( array, interval ) {\n\t\tfunction cycle( array ) {\n\t\t\tfor (let i=0; i<array.length; i++) {\n\t\t\t\tif ( array[i].classList.contains('active') ) {\n\t\t\t\t\tarray[i].classList.remove('active');\n\t\t\t\t\tif ( i == array.length - 1 ) {\n\t\t\t\t\t\tarray[0].classList.add('active');\n\t\t\t\t\t} else {\n\t\t\t\t\t\tarray[i + 1].classList.add('active');\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tsetInterval(() => cycle( array ), interval);\n\t}\n\n// Nav State Switcher\n\t// TODO: Document this thing\n\tfunction navStateSwitcher() {\n\t\tconst switchableNavs = document.querySelectorAll('[data-nav]');\n\t\tswitchableNavs.forEach( nav => {\n\t\t\tlet navItems = [...nav.children];\n\t\t\tlet minWidth = 0;\n\t\t\tnavItems.forEach( item => {\n\t\t\t\tlet itemStyles = getComputedStyle(item);\n\t\t\t\tlet itemWidth = item.offsetWidth + parseInt(itemStyles.marginLeft) + parseInt(itemStyles.marginRight);\n\t\t\t\tminWidth += itemWidth;\n\t\t\t});\n\t\t\tlet parent = nav.parentNode;\n\t\t\t// Call the switcher\n\t\t\tmeasureNav(minWidth, parent);\n\t\t\twindow.addEventListener('resize', () => measureNav(minWidth, parent));\n\t\t});\n\t\tfunction measureNav(minWidth, parent) {\n\t\t\tlet parentStyles = getComputedStyle(parent);\n\t\t\tlet maxWidth = parent.clientWidth - parseInt(parentStyles.paddingLeft) - parseInt(parentStyles.paddingRight);\n\t\t\tif (minWidth >= maxWidth) {\n\t\t\t\tparent.classList.add('mobile');\n\t\t\t} else {\n\t\t\t\tparent.classList.remove('mobile');\n\t\t\t}\n\t\t}\n\t} window.addEventListener('load', () => navStateSwitcher());\n\n// Billboard\n\t// TODO: Document this thing\n\tfunction billboard() {\n\t\tconst billboards = document.querySelectorAll('[data-billboard]');\n\t\tbillboards.forEach( billboard => {\n\t\t\tconst slides = [...billboard.getElementsByClassName('billboard-slide')];\n\t\t\tconst interval = parseInt(billboard.getAttribute('data-billboard')) * 1000;\n\t\t\tcycleActiveItem(slides,interval);\n\t\t});\n\t} window.addEventListener('load', () => billboard());\n\n/*********************************\n* ScrollTriggr.js\n**********************************\n\tAllows arbitrary triggering of css classes on page scroll without screwing around with Javascript directly\n\tUses inline data-attrs to set parameters\n\tRe-calling scrollTriggr() will re-init this utility.\n\t \n\tPARAMETERS:\n\t@param: data-st=\"\"\n\t@required: true\n\t@description: Add this to the element that should be triggered. Can optionally take a custom class name to be triggered.\n\t@value: String -- Any valid CSS class name\n\t@default: on-screen\n\n\t@param: data-st-offset=\"\"\n\t@required: false\n\t@description: Add this to the triggered element. Determines how far onto the page an element should be before it is triggered.\n\t@value: Interger -- A percentage from the BOTTOM of the screen\n\t@default: 10\n\t \n\tDEPENDENCIES:\n\tNone\n\t*********************************/\n\tfunction scrollTriggr() {\n\t\t// Set some reference variables\n\t\tlet windowHeight = 0;\n\t\tconst scrollables = document.querySelectorAll('[data-st]');\n\t\tconst scrollableData = [];\n\n\t\t// scrollTriggr being called? Init!\n\t\tif (scrollables.length) {\n\t\t    scrollInit();\n\t\t}\n\n\t\t//Calculate element's distance from top of document. (c) 2017 Chris Ferdinandi, MIT License, https://gomakethings.com\n\t\tfunction getOffsetTop(elem) {\n\t\t\tlet distance = 0;\n\t\t\tif (elem.offsetParent) {\n\t\t\t\tdo {\n\t\t\t\t\tdistance += elem.offsetTop;\n\t\t\t\t\telem = elem.offsetParent;\n\t\t\t\t} while (elem);\n\t\t\t}\n\t\t\treturn distance < 0 ? 0 : distance;\n\t\t}\n\n\t\t// Initalize the utility\n\t\tfunction scrollInit() {\n\t\t\tscrollableData.length = 0;\n\t\t\tscrollables.forEach((element) => {\n\t\t\t\t//Get properties or set fallbacks\n\t\t\t\tlet scrollClass = element.getAttribute('data-st') ? element.getAttribute('data-st') : 'on-screen';\n\t\t\t\tlet scrollOffset = element.getAttribute('data-st-offset') ? parseInt(element.getAttribute('data-st-offset')) : 20;\n\t\t\t\t//Create an ojbect for the data and populate it\n\t\t\t\tconst scrollData = {};\n\t\t\t\tscrollData.element = element;\n\t\t\t\tscrollData.className = scrollClass;\n\t\t\t\tscrollData.offset = scrollOffset;\n\t\t\t\t//Add the new object to the array of objects.\n\t\t\t\tscrollableData.push(scrollData);\n\t\t\t});\n\t\t\t// Call, the queue the resize event\n\t\t\tscrollResize();\n\t\t\twindow.addEventListener('resize',scrollResize, false);\n\t\t}\n\n\t\t// Fires on resize\n\t\tfunction scrollResize() {\n\t\t\t// Re-calc and set the window size\n\t\t\twindowHeight = window.innerHeight;\n\t\t\t// Calculate and store the trigger point for each element.\n\t\t\tscrollableData.forEach((index) => index.triggerPoint = getOffsetTop(index.element) + ( (windowHeight / 100) * index.offset ));\n\t\t\t// Call, queue the scroll event\n\t\t\tscrollScroll();\n\t\t\twindow.addEventListener('scroll',scrollScroll, false);\n\t\t}\n\n\t\t// Fires on scroll\n\t\tfunction scrollScroll() {\n\t\t\t// Calculate the relevant scroll position\n\t\t\tlet windowBottom = window.scrollY + windowHeight;\n\t\t\tscrollableData.forEach((item,index) => {\n\t\t\t\tif (windowBottom >= item.triggerPoint) {\n\t\t\t\t\titem.element.classList.add(item.className);\n\t\t\t\t\t// Remove any triggered items from the array\n\t\t\t\t\tscrollableData.splice(index,1);\n\t\t\t\t\t// Un-queue scroll and resize events if there are no more items in the queue.\n\t\t\t\t\tif (!scrollableData.length) {\n\t\t\t\t\t\twindow.removeEventListener('resize', scrollResize, false);\n\t\t\t\t\t\twindow.removeEventListener('scroll', scrollScroll, false);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t//Fire the script on page load \n\t} window.addEventListener('load', () => scrollTriggr());\n\n/*********************************\n* TableBreakr.js\n**********************************\n\tIf you would rather re-format than horizontally-scroll a table on mobile, this *ALLOWS* that, if used with CSS.\n\tUses inline data-attrs to set parameters\n\tRe-calling scrollTriggr() will re-init this utility.\n\t \n\tPARAMETERS:\n\t@param: data-bt\n\t@required: true\n\t@description: Add this to the top-level <table> element. Accepts no parameters\n\t@value: none\n\t@default: none\n\t \n\tDEPENDENCIES:\n\tNone\n\n\tBASIC SASS:\n\ttable.broken {\n\t  &, & tbody, & tr, & td { display: block; }\n\t  & tr:first-of-type { display: none; }\n\t  & td:before { content: attr(data-heading); display: block; font-weight: bold; }\n\t}\n\t*********************************/\n\t//Table Breaker\n\tfunction tableBreakr(){\n\t\tconst tables = document.querySelectorAll('table[data-bt]');\n\t\t//If there are responsive tables...\n\t\tif (tables.length) {\n\t\t\ttableBreakrInit()\n\t\t}\n\t\t// Amend Headings\n\t\tfunction amendHeadings(table,headingText,index) {\n\t\t\ttable.querySelectorAll('td:nth-of-type('+index+')').forEach((element) => {\n\t\t\t\telement.setAttribute('data-heading', headingText );\n\t\t\t});\n\t\t}\n\t\t// Isolate Headings\n\t\tfunction isolateHeadings(table,headings) {\n\t\t\theadings.forEach((heading, index) => {\n\t\t\t\tindex++;\n\t\t\t\tlet headingText = heading.innerText.trim();\n\t\t\t\tamendHeadings(table,headingText,index);\n\t\t\t});\n\t\t}\n\t\t//For each responsive table...\n\t\tfunction tableBreakrInit() {\n\t\ttables.forEach((table) => {\n\t\t\tlet columnCount = table.querySelectorAll('tr')[0].childElementCount;\n\t\t\ttable.classList.add( columnCount + '-column' );\n\t\t\t//Define the header row as either the <th> row, or the first <td> in each column\n\t\t\tlet headings = table.querySelectorAll('th') || table.querySelectorAll('tr:first-of-type td');\n\t\t\tisolateHeadings(table,headings);\n\t\t});\n\t\t}\n\t\t// Get the outer width of an element -- youmightnotneedjquery.com\n\t\tfunction outerWidth(element) {\n\t\t\tlet width = element.offsetWidth;\n\t\t\tlet style = getComputedStyle(element);\n\t\t\twidth += parseInt(style.marginLeft) + parseInt(style.marginRight);\n\t\t\treturn width;\n\t\t}\n\t\t// Toggle the broken class\n\t\tfunction breakTheTable() {\n\t\t\ttables.forEach( (table) => {\n\t\t\t\ttable.classList.remove('broken');\n\t\t\t\tif ( outerWidth(table) > table.parentNode.offsetWidth ) {\n\t\t\t\t\ttable.classList.add('broken');\n\t\t\t\t}\n\t\t\t});\n\t\t// Call the resize event at least once to do the check on page load.\n\t\t} breakTheTable();\n\t\t// Resize Debouncer\n\t\tlet resizeTimer = 0;\n\t\twindow.addEventListener('resize', () => {\n\t\t\tclearTimeout(resizeTimer);\n\t\t\tresizeTimer = setTimeout(function() {\n\t\t\t\tbreakTheTable();\n\t\t\t}, 250);\n\t\t});\n\t// That's it, queue the script!\n\t} window.addEventListener('load', tableBreakr, false);\n\n/*********************************\n* Togglr.js\n**********************************\n\tAllows arbitrary toggling of css classes without screwing around with Javascript directly\n\tUses inline data-attrs to set parameters\n\tRe-calling togglr() will re-init this utility.\n\t \n\tPARAMETERS:\n\t@param: data-ts=\"\"\n\t@required: true\n\t@description: Add this to the trigger. The value should be any valid CSS selector to target the elements you want to toggle\n\t@value: String -- Any valid CSS selector\n\t@default: none\n\n\t@param: data-ts-class=\"\"\n\t@required: false\n\t@description: Add this to the trigger. This is the class that will be toggled onto the trigger and all the targets\n\t@value: String -- Any valid CSS class name\n\t@default: \"open\"\n\n\t@param: data-ts-prop=\"\"\n\t@required: false\n\t@description: Add this to the trigger. This determines whether or not the toggle will propogate down to child elements.\n\t@value: Boolean\n\t@default: true\n\n\t@param: data-ts-group=\"\"\n\t@required: false\n\t@description: Add this to all the elements you intend to group. \n\t@value: String -- A name for the group\n\t@default: none\n\n\t@param: data-ts-hover=\"\"\n\t@required: false\n\t@description: Whether the toggle should be triggered on hover, added to trigger element\n\t@value: Boolean -- true to trigger on hover, false to trigger only on click\n\t@default: false\n\t \n\tDEPENDENCIES:\n\tModernizr touch testing\n\t*********************************/\n\tfunction togglr() {\n\t\t// Utility-wide items and containers\n\t\tconst toggleables = document.querySelectorAll('[data-ts],[data-ts-group]');\n\t\tconst toggleablesCount = toggleables.length;\n\t\tconst toggleableGroups = {};\n\t\tconst groupClassCache = [];\n\n\t\t// Togglr being called? Init!\n\t\tif (toggleablesCount) {\n\t\t\ttoggleInit();\n\t\t}\n\n\t\t// Convert string to boolean\n\t\tfunction toBoolean(_string) {\n\t\t\treturn JSON.parse(_string);\n\t\t}\n\n\t\t// Create or Modify the Toggleable Groups\n\t\tfunction addToToggleableGroups(_toggleElement,_toggleGroup) {\n\t\t\tif (!(_toggleGroup in toggleableGroups)) {\n\t\t\t\ttoggleableGroups[_toggleGroup] = {};\n\t\t\t\ttoggleableGroups[_toggleGroup].elements = [];\n\t\t\t}\n\t\t\ttoggleableGroups[_toggleGroup].elements.push(_toggleElement);\n\t\t}\n\n\t\t// Cache the toggled classes for grouping purposes\n\t\tfunction groupToggleCaching(_element,_className) {\n\t\t\t_element.classList.toggle(_className);\n\t\t\tlet elementCache = {};\n\t\t\telementCache.element = _element;\n\t\t\telementCache.className = _element.classList.value;\n\t\t\tgroupClassCache.push(elementCache);\n\t\t}\n\t  \n\t\t//The actual toggling\n\t\tfunction toggleIt(_element,_state,_group,_targets,_className){\n\t\t\tif ( _state === 'over' ) {\n\t\t\t\t_targets.forEach( (target) => target.classList.add(_className) );\n\t\t\t\t_element.classList.add(_className);\n\t\t\t} else if ( _state === 'out' ) {\n\t\t\t\t_targets.forEach( (target) => target.classList.remove(_className) );\n\t\t\t\t_element.classList.remove(_className);\n\t\t\t} else {\n\t\t\t\t_targets.forEach( (target) => {\n\t\t\t\t\tgroupToggleCaching(target,_className);\n\t\t\t\t});\n\t\t\t\tgroupToggleCaching(_element,_className);\n\t\t\t\tif ( _group ) {\n\t\t\t\t\t_group.elements.forEach( (element) => element.classList.remove(_className) );\n\t\t\t\t\tgroupClassCache.forEach( (index) => index.element.classList = index.className );            \n\t\t\t\t}\n\t\t\t\tgroupClassCache.length = 0;\n\t\t\t}\n\t\t}\n\n\t\t// Attach the toggle targets to each toggle button\n\t\tfunction setToggleTargets(_element) {\n\t\t\tlet targs = _element.getAttribute('data-ts');\n\t\t\tif (targs.length > 0) {\n\t\t\t\treturn document.querySelectorAll( targs );\n\t\t\t} else {\n\t\t\t\treturn [];\n\t\t\t}\n\t\t}\n\n\t    // Initalization\n\t\tfunction toggleInit() {\n\t\t\tfor (let i=0; i<toggleablesCount; i++) {\n\t\t\t\t//Get properties or set fallbacks\n\t\t\t\tlet toggleElement = toggleables[i];\n\t\t\t\tlet toggleWithHover = toggleElement.getAttribute('data-ts-hover') ? toBoolean(toggleElement.getAttribute('data-ts-hover')) : false;\n\t\t\t\tlet togglePropogation = toggleElement.getAttribute('data-ts-prop') ? toBoolean(toggleElement.getAttribute('data-ts-prop')) : true;\n\t\t\t\tlet toggleGroup = toggleElement.getAttribute('data-ts-group');\n\t\t\t\tlet toggleTargets = setToggleTargets(toggleElement);\n\t\t\t\tlet className = toggleElement.getAttribute('data-ts-class') ? toggleElement.getAttribute('data-ts-class') : 'open';\n\t\t\t\t//Create/modify grouping if required\n\t\t\t\tif ( toggleGroup ) {\n\t\t\t\t\taddToToggleableGroups(toggleElement,toggleGroup);\n\t\t\t\t\ttoggleGroup = toggleableGroups[toggleGroup];\n\t\t\t\t}\n\t\t\t\t//Attach click/hover events as required\n\t\t\t\t// eslint-disable-next-line no-undef\n\t\t\t\tif ( toggleWithHover && !Modernizr.touchevents ) {\n\t\t\t\t\ttoggleElement.addEventListener(\"mouseenter\", () => { toggleIt(toggleElement,'over',toggleGroup,toggleTargets,className); } );\n\t\t\t\t\ttoggleElement.addEventListener(\"mouseleave\", () => { toggleIt(toggleElement,'out',toggleGroup,toggleTargets,className); } );\n\t\t\t\t} else {\n\t\t\t\t\ttoggleElement.addEventListener(\"click\", () => toggleIt(toggleElement,null,toggleGroup,toggleTargets,className) );\n\t\t\t\t}\n\t\t\t\t//Stops event propogation, if required\n\t\t\t\tif (!togglePropogation) {\n\t\t\t\t\ttoggleElement.addEventListener(\"click\", e => { e.stopPropagation(); } );\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t} window.addEventListener('load', togglr);\n\n/*********************************\n* UserControlledElements.js\n**********************************\n\tAllows a user to toggle an element from one state to another for a set amount of time.\n\tDesigned for notification banners/popups.\n\tThe user's action is cached in localStorage.\n\t \n\tPARAMETERS:\n\t@param: data-uce=\"\"\n\t@required: true\n\t@description: Defines what element is user-controllable.\n\t@value: String -- A UNIQUE name for the element to be controlled, so that it can be stored.\n\t@default: none\n\n\t@param: data-uce-reopen\n\t@required: false\n\t@description: Defines the time, in days, until the UCE will reappear\n\t@value: Float -- can take partial days, or multiple days.\n\t@default: 1\n\n\t@param: data-uce-close\n\t@required: true\n\t@description: Defines the button(s) that can be used to close the UCE. \n\t@value: String -- Any valid CSS selector\n\t@default: none\n\n\t@param: data-uce-close-class\n\t@required: false\n\t@description: Defines the class that will be applied to the element when the user takes action. NOTE this class MUST be applied to the element manually, as it will be removed during init if the element should be showing.\n\t@value: String -- Any valid CSS class\n\t@default: hide\n\n\t@param: data-uce-callback\n\t@required: false\n\t@description: Defines one or more scripts that can be called if the user takes action\n\t@value: String -- Any JavaScript function name\n\t@default: none\n\t \n\tDEPENDENCIES:\n\tNone\n\n\tTODO:\n\tNeeds to be updated to detect visibility and hide, if appropriate.\n\t*********************************/\n\tfunction userControlledElements(els) {\n\n\t    const elements = els || document.querySelectorAll('[data-uce]');\n\t    const fallbackClass = 'hide';\n\t    \n\t    if (elements.length) {\n\t        uceInit(elements);\n\t    }\n\n\t    function uceInit() {\n\t        elements.forEach(element => registerUCE(element));\n\t    }\n\n\t    function registerUCE(element) {\n\t        const identifier = element.getAttribute('data-uce');\n\t        const currentTimestamp = new Date().getTime();\n\t        if ( !localStorage[identifier] || localStorage[identifier] == 'open' || localStorage[identifier] <= currentTimestamp) {\n\t            //Register element\n\t            localStorage[identifier] = 'open'; \n\t            openUCE(element);\n\t        }\n\t    }\n\n\t    function openUCE(element) {\n\t        element.getAttribute('data-uce-close-class') ? element.classList.remove( element.getAttribute('data-uce-close-class') ) : element.classList.remove(fallbackClass);\n\t        element.classList.remove(fallbackClass);\n\t        const closeTriggers = document.querySelectorAll( element.getAttribute('data-uce-close') );\n\t        closeTriggers.forEach( (closeTrigger) => {\n\t            closeTrigger.addEventListener( 'click',() => closeUCE(closeTrigger,element) );\n\t        });\n\t    }\n\n\t    function closeUCE(trigger, target) {\n\t    \t// console.log('close triggered');\n\t        const identifier = target.getAttribute('data-uce');\n\t        const currentTime = new Date().getTime();\n\t        const delay = target.getAttribute('data-uce-reopen') * 86400000;\n\t        const closedClass = target.getAttribute('data-uce-close-class') || fallbackClass;\n\t        target.classList.add(closedClass);\n\t        if ( target.hasAttribute('data-uce-callback') && window[ target.getAttribute('data-uce-callback') ] ) {\n\t            window[ target.getAttribute('data-uce-callback') ]();\n\t        }\n\t        localStorage[identifier] = currentTime + delay;\n\t    }\n\t} window.addEventListener('load', () => userControlledElements());\n\n/*********************************\n* ModalPopup.js\n**********************************\n\tPops up a modal dialog box that requires user interaction to dismiss\n\t \n\tPARAMETERS:\n\t@param: data-uce=\"\"\n\t@required: true\n\t@description: Defines what element is user-controllable.\n\t@value: String -- A UNIQUE name for the element to be controlled, so that it can be stored.\n\t@default: none\n\t \n\tDEPENDENCIES:\n\tNone\n\t*********************************/\n    function customPopup() {\n        //Reusable Vars\n        const body = document.body;\n        const popUpContainer = document.getElementById( 'popup-container' );\n        const popUpBG = document.getElementById( 'popup-bg' );\n        const popUpClose = document.getElementById( 'popup-close' );\n        let popUpLinks = [...document.getElementsByClassName( 'popup-link' )];\n        // Basic Setup\n        if (popUpContainer) {\n\t        // Make sure elements inside the popup are interactive\n\t        popUpContainer.addEventListener ( 'click', function(e) {\n\t            e.stopPropagation();\n\t        } );\n\t        // Don't double-close the popup\n\t        popUpClose.addEventListener ( 'click', function(e) {\n\t            e.stopPropagation();\n\t        } );\n\t        // Hook up all the popup links\n\t        popUpLinks.forEach( link => {\n\t        \tlink.addEventListener( 'click', () => {\n\t        \t\topenPopUp( link );\n\t        \t});\n\t        });\n\t    }\n        // Clear out the popup\n        function removeContent( element ) {\n        \tif ( element ) {\n        \t\telement.appendChild( popUpContainer.children[0] );\n        \t} else {\n        \t\tconsole.log(\"ERROR: no element defined\");\n        \t}\n        }\n        //Open popup\n        function openPopUp( link ) {\n        \tlet el = link.getAttribute( 'data-content' );\n            let element = document.getElementById( el );\n            body.classList.add('popup-open'); \n            popUpBG.classList.add( link.getAttribute( 'data-content' ) );\n            if ( popUpContainer.children.length > 0 ) {\n            \tremoveContent();\n            }\n            popUpContainer.appendChild( element.children[0] );\n            popUpBG.onclick =  () => { closePopUp( element ) };\n            popUpClose.onclick =  () => { closePopUp( element ) };\n        }\n        // Close Popup\n        function closePopUp( element ) {\n        \tpopUpBG.setAttribute( 'class', 'popup-bg' ); //Remove any Class Names\n            body.classList.remove( 'popup-open' ); //Remove the Body class\n            removeContent( element );\n        }\n    } window.addEventListener('load',customPopup);\n\n/*********************************\n* SmoothScroll.js\n**********************************\n\t* I got this from the fine people here:\n\t* https://perishablepress.com/vanilla-javascript-scroll-anchor/\n\t**********************************/\n    function smoothScroll(el) {\n        // Vanilla JavaScript Scroll to Anchor\n\t\t// @ https://perishablepress.com/vanilla-javascript-scroll-anchor/\n\t\t\tvar links = document.getElementsByTagName('a');\n\t\t\tfor (var i = 0; i < links.length; i++) {\n\t\t\t\tvar link = links[i];\n\t\t\t\tif ((link.href && link.href.indexOf('#') != -1) && ((link.pathname == location.pathname) || ('/' + link.pathname == location.pathname)) && (link.search == location.search)) {\n\t\t\t\t\tlink.onclick = scrollAnchors;\n\t\t\t\t}\n\t\t\t}\n\n\t\tfunction scrollAnchors(e, respond = null) {\n\t\t\tconst distanceToTop = el => Math.floor(el.getBoundingClientRect().top);\n\t\t\te.preventDefault();\n\t\t\tvar targetID = (respond) ? respond.getAttribute('href') : this.getAttribute('href');\n\t\t\tconst targetAnchor = document.querySelector(targetID);\n\t\t\tif (!targetAnchor) return;\n\t\t\tconst originalTop = distanceToTop(targetAnchor);\n\t\t\twindow.scrollBy({ top: originalTop, left: 0, behavior: 'smooth' });\n\t\t\tconst checkIfDone = setInterval(function() {\n\t\t\t\tconst atBottom = window.innerHeight + window.pageYOffset >= document.body.offsetHeight - 2;\n\t\t\t\tif (distanceToTop(targetAnchor) === 0 || atBottom) {\n\t\t\t\t\ttargetAnchor.tabIndex = '-1';\n\t\t\t\t\ttargetAnchor.focus();\n\t\t\t\t\twindow.history.pushState('', '', targetID);\n\t\t\t\t\tclearInterval(checkIfDone);\n\t\t\t\t}\n\t\t\t}, 100);\n\t\t}\n    } window.addEventListener('load',smoothScroll);\n\n\n\n\n// REFACTOR THIS STUFF\n\n//Modernizr Touch Test (DEPENDANCY/UTILITY)\n    //Load custom build if Modernizr is not already loaded\n        if (typeof Modernizr != 'object') { \n        \t// eslint-disable-next-line (compressed Modernizr code)\n            !function(e,n,t){function o(e,n){return typeof e===n}function s(){var e,n,t,s,a,i,r;for(var l in c){if(e=[],n=c[l],n.name&&(e.push(n.name.toLowerCase()),n.options&&n.options.aliases&&n.options.aliases.length))for(t=0;t<n.options.aliases.length;t++)e.push(n.options.aliases[t].toLowerCase());for(s=o(n.fn,\"function\")?n.fn():n.fn,a=0;a<e.length;a++)i=e[a],r=i.split(\".\"),1===r.length?Modernizr[r[0]]=s:(!Modernizr[r[0]]||Modernizr[r[0]]instanceof Boolean||(Modernizr[r[0]]=new Boolean(Modernizr[r[0]])),Modernizr[r[0]][r[1]]=s),f.push((s?\"\":\"no-\")+r.join(\"-\"))}}function a(e){var n=u.className,t=Modernizr._config.classPrefix||\"\";if(p&&(n=n.baseVal),Modernizr._config.enableJSClass){var o=new RegExp(\"(^|\\\\s)\"+t+\"no-js(\\\\s|$)\");n=n.replace(o,\"$1\"+t+\"js$2\")}Modernizr._config.enableClasses&&(n+=\" \"+t+e.join(\" \"+t),p?u.className.baseVal=n:u.className=n)}function i(){return\"function\"!=typeof n.createElement?n.createElement(arguments[0]):p?n.createElementNS.call(n,\"http://www.w3.org/2000/svg\",arguments[0]):n.createElement.apply(n,arguments)}function r(){var e=n.body;return e||(e=i(p?\"svg\":\"body\"),e.fake=!0),e}function l(e,t,o,s){var a,l,f,c,d=\"modernizr\",p=i(\"div\"),h=r();if(parseInt(o,10))for(;o--;)f=i(\"div\"),f.id=s?s[o]:d+(o+1),p.appendChild(f);return a=i(\"style\"),a.type=\"text/css\",a.id=\"s\"+d,(h.fake?h:p).appendChild(a),h.appendChild(p),a.styleSheet?a.styleSheet.cssText=e:a.appendChild(n.createTextNode(e)),p.id=d,h.fake&&(h.style.background=\"\",h.style.overflow=\"hidden\",c=u.style.overflow,u.style.overflow=\"hidden\",u.appendChild(h)),l=t(p,e),h.fake?(h.parentNode.removeChild(h),u.style.overflow=c,u.offsetHeight):p.parentNode.removeChild(p),!!l}var f=[],c=[],d={_version:\"3.0.0-alpha.4\",_config:{classPrefix:\"\",enableClasses:!0,enableJSClass:!0,usePrefixes:!0},_q:[],on:function(e,n){var t=this;setTimeout(function(){n(t[e])},0)},addTest:function(e,n,t){c.push({name:e,fn:n,options:t})},addAsyncTest:function(e){c.push({name:null,fn:e})}},Modernizr=function(){};Modernizr.prototype=d,Modernizr=new Modernizr;var u=n.documentElement,p=\"svg\"===u.nodeName.toLowerCase(),h=d._config.usePrefixes?\" -webkit- -moz- -o- -ms- \".split(\" \"):[];d._prefixes=h;var m=d.testStyles=l;Modernizr.addTest(\"touchevents\",function(){var t;if(\"ontouchstart\"in e||e.DocumentTouch&&n instanceof DocumentTouch)t=!0;else{var o=[\"@media (\",h.join(\"touch-enabled),(\"),\"heartz\",\")\",\"{#modernizr{top:9px;position:absolute}}\"].join(\"\");m(o,function(e){t=9===e.offsetTop})}return t}),s(),a(f),delete d.addTest,delete d.addAsyncTest;for(var v=0;v<Modernizr._q.length;v++)Modernizr._q[v]();e.Modernizr=Modernizr}(window,document);\n        }\n    //Quick touch test - determines if the user is on a touch-capable device\n    \tlet is_touch_device = false\n        if (Modernizr.touch) { \n            is_touch_device = true;\n        }\n\n\n//Back To Top\n    function backToTop() {\n    \t// console.log(\"BTT\");\n        var backToTopButton = $('.BackToTop, .backtotop');\n        \n        function showBackToTop(){\n        \t// console.log(\"test??\");\n            if ( $(window).scrollTop() > 500 ) {\n                backToTopButton.addClass('visible');\n            } else {\n                backToTopButton.removeClass('visible');\n            }\n        }\n\n        if (backToTopButton) {\n        \t// console.log(\"WHAT??\");\n        \tshowBackToTop();\n            window.addEventListener('scroll', showBackToTop, false );\n\n            backToTopButton.click(function(){\n                $('html,body').animate({\n                    scrollTop: 0\n                }, 1000);\n            });\n\n        }\n\n    } window.addEventListener('load', () => backToTop() );\n\n\n    // Browse Field Prettifier\n    var inputs = document.querySelectorAll( 'input[type=\\'file\\']' );\n\tArray.prototype.forEach.call( inputs, function( input ) {\n\t\tvar label\t = input.nextElementSibling,\n\t\t\tlabelVal = label.innerHTML;\n\t\tinput.addEventListener( 'change', function( e ) {\n\t\t\tvar fileName = '';\n\t\t\tif( this.files && this.files.length > 1 ) {\n\t\t\t\tfileName = ( this.getAttribute( 'data-multiple-caption' ) || '' ).replace( '{count}', this.files.length );\n\t\t\t} else {\n\t\t\t\tfileName = e.target.value.split( '\\\\' ).pop();\n\t\t\t}\n\n\t\t\tif( fileName ) {\n\t\t\t\tlabel.innerHTML = fileName;\n\t\t\t} else {\n\t\t\t\tlabel.innerHTML = labelVal;\n\t\t\t}\n\t\t});\n\t});\n\n\n\n\n\n\n\n\n\n\n"]}