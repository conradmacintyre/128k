!function(){"use strict";var e,t={STD:{Name:"Standard",Strength:1,Technique:1,Speed:1,Mind:1,Nerve:1,Heart:1,MicSkill:0,Charisma:1,Popularity:1,Durability:1,Finisher:2,Height:.1,Weight:.01,Fatigue:.5,Viewership:100,Outcomes:[[9.5,"Disqualification"],[8.5,"Knockout"],[7.5,"Submission"],[0,"Pinfall"]]},SUB:{Name:"Submission",Strength:1,Technique:2,Speed:1,Mind:1.5,Nerve:1,Heart:1,MicSkill:0,Charisma:1,Popularity:1,Durability:1,Finisher:1.5,Height:.1,Weight:.01,Fatigue:1,Viewership:150,Outcomes:[[9.5,"Pass-Out"],[0,"Submission"]]},HCR:{Name:"Hardcore",Strength:1,Technique:1,Speed:1,Mind:1,Nerve:2,Heart:1.5,MicSkill:0,Charisma:1,Popularity:1,Durability:2,Finisher:1,Height:.1,Weight:.01,Fatigue:3,Viewership:200,Outcomes:[[9.5,"Submission"],[8.5,"Knockout"],[0,"Pinfall"]]},LDR:{Name:"Ladder",Strength:1,Technique:1,Speed:2,Mind:1,Nerve:2,Heart:1,MicSkill:0,Charisma:1,Popularity:1,Durability:1.5,Finisher:1,Height:.1,Weight:.01,Fatigue:1.5,Viewership:300,Outcomes:[[0,"Retrieving the suspended object"]]},CGE:{Name:"Cage",Strength:1,Technique:1,Speed:1.2,Mind:1,Nerve:1.5,Heart:2,MicSkill:0,Charisma:1,Popularity:1,Durability:1.5,Finisher:1,Height:.1,Weight:.01,Fatigue:2,Viewership:250,Outcomes:[[9,"Submission"],[8,"Pinfall"],[0,"Climb-Out"]]}};function i(t){return void 0===t.Strength?e[t]:t}function n(e,t){return(e=i(e))[t]}function r(e,i){var r=0;return void 0===i?(r+=n(e,"Strength"),r+=n(e,"Technique"),r+=n(e,"Speed"),r+=n(e,"Mind"),r+=n(e,"Nerve"),r+=n(e,"Heart"),r+=n(e,"Charisma"),r+=n(e,"Popularity"),r+=n(e,"Durability"),r+=n(e,"Finisher")):(r+=n(e,"Strength")*t[i].Strength,r+=n(e,"Technique")*t[i].Technique,r+=n(e,"Speed")*t[i].Speed,r+=n(e,"Mind")*t[i].Mind,r+=n(e,"Nerve")*t[i].Nerve,r+=n(e,"Heart")*t[i].Heart,r+=n(e,"Charisma")*t[i].Charisma,r+=n(e,"Popularity")*t[i].Popularity,r+=n(e,"Durability")*t[i].Durability,r+=n(e,"Finisher")*t[i].Finisher),r}function a(e,n){e=i(e),void 0!==n&&(e.Fatigue+=t[n].Fatigue);var r=e.Fatigue;function a(t){if(Math.random()>t)return e.Injury=!0,"disabled"}r>10?e.Injury=!0:a(10===r?.8:r>=9?.85:r>=8?.9:.95)}function s(e){var t=e.toString().split(".");return t[0]=t[0].replace(/\B(?=(\d{3})+(?!\d))/g,","),t.join(".")}function l(e){return(e=parseInt(1e3*e))>=1e3?e:1e3}function o(e){var t=document.getElementById("Roster");t.innerHTML="";var n=[];for(var a in e)n.push(a);for(a=0;a<n.length;a++){var s=n[a],l=i(s),o="";!0===l.Injury&&(o="disabled"),t.innerHTML+='<input type="checkbox" id="'+s+'" '+o+'><label class="Wrestler" style="background-image:url(img/'+s+'.png)" for="'+s+'"><div class="DarkBG"><p class="Name">'+l.Name+'</p><p class="Overall"><b>O</b><br>'+parseInt(r(s))+'</p><p class="Morale"><b>M</b><br>'+l.Morale+'</p><p class="Fatigue"><b>F</b><br>'+l.Fatigue+'</p><p class="Wins"><b>W</b><br>'+l.Wins+'</p><p class="Losses"><b>L</b><br>'+l.Losses+"</p></div></label>"}}function u(u,c){if(console.log("FIGHT STARTED"),1===u.length)document.getElementById("WinnerName").innerHTML="<p>"+n(u[0],"Name")+" won by default. "+s(l())+" people were disappointed.</p>"+document.getElementById("WinnerName").innerHTML;else{var d=[],h=t[c].Viewership;console.log("Viewers",h);for(var m=0;m<u.length;m++){var g=i(u[m]),p=r(g,c)+25*Math.random()+g.Morale-g.Fatigue;d.push(p),h+=10*g.Popularity}var b=d.indexOf(Math.max.apply(Math,d)),v=i([u[b]]),y=d.indexOf(Math.min.apply(Math,d)),M=i([u[y]]);for(var f in h-=10*(d[b]-d[y]),e){var S=i(f);u.indexOf(f)>-1?(S.Morale<=9.5&&(S.Morale+=.25),a(f,c)):(S.Morale>=.25&&(S.Morale-=.25),S.Fatigue>=.25&&(S.Fatigue-=.25),!0===S.Injury&&S.Fatigue<=5&&(S.Injury=!1))}v.Wins+=1,v.Morale<=8.5&&(v.Morale+=1),v.Fatigue>=.25&&(v.Fatigue-=.25),M.Losses+=1,M.Morale>=.5&&(M.Morale-=.5),M.Fatigue<=9.5&&(M.Fatigue+=.5),document.getElementById("WinnerName").innerHTML='<p><b class="winner">'+v.Name+'</b> def. <b class="loser">'+M.Name+'</b> via <b class="method">'+function(e){for(var i=10*Math.random(),n=t[e].Outcomes,r=n.length,a=0;a<r;a++)if(i>=n[a][0])return console.log(n[a][1]),n[a][1]}(c)+'</b>, with <b class="viewers">'+s(l(h))+" viewers</b>.</p>"+document.getElementById("WinnerName").innerHTML}o(e)}var c=document.getElementById("RosterButton"),d=document.getElementById("RosterWrapper");c.addEventListener("click",(function(){d.classList.contains("open")&&c.classList.contains("open")?(c.classList.remove("open"),d.classList.remove("open"),d.removeAttribute("style")):(c.classList.add("open"),d.classList.add("open"),d.setAttribute("style","height:"+d.children[0].offsetHeight+"px;"))})),document.getElementById("Rematch").addEventListener("click",(function(){for(var e=this.getAttribute("data-rematch").split(","),t=0;t<e.length;t++){var i=e[t];console.log(i,e),document.getElementById(i).click()}})),document.getElementById("AllIn").addEventListener("click",(function(){for(var e=document.querySelectorAll("input:not(:disabled)"),t=0;t<e.length;t++)e[t].checked=!0})),document.getElementById("Fight").addEventListener("click",(function(){for(var e=document.querySelectorAll("input:checked"),t=[],i=document.getElementById("MatchType").value,n=0;n<e.length;n++)t.push(e[n].getAttribute("id"));document.getElementById("Rematch").setAttribute("data-rematch",t),u(t,i)})),o(e),c.click()}();
//# sourceMappingURL=functions.min.js.map