{"version":3,"sources":["library.js"],"names":["measureNav","minWidth","parent","parentStyles","getComputedStyle","maxWidth","clientWidth","parseInt","paddingLeft","paddingRight","console","log","classList","add","remove","billboard","document","querySelectorAll","forEach","array","interval","setInterval","i","length","contains","cycle","cycleActiveItem","_toConsumableArray","getElementsByClassName","getAttribute","userControlledElements","els","elements","fallbackClass","element","identifier","currentTimestamp","Date","getTime","localStorage","closeTrigger","addEventListener","target","currentTime","delay","closedClass","hasAttribute","window","openUCE","registerUCE","nav","navItems","children","item","itemStyles","itemWidth","offsetWidth","marginLeft","marginRight","parentNode","node","bgImg","style","backgroundImage","windowHeight","scrollables","scrollableData","scrollResize","innerHeight","index","triggerPoint","elem","distance","offsetParent","offsetTop","getOffsetTop","offset","scrollScroll","windowBottom","scrollY","className","splice","removeEventListener","scrollClass","scrollOffset","scrollData","push","scrollTriggr","tables","breakTheTable","table","width","columnCount","childElementCount","headings","heading","headingText","innerText","trim","setAttribute","amendHeadings","isolateHeadings","resizeTimer","clearTimeout","setTimeout","toggleables","toggleablesCount","toggleableGroups","groupClassCache","toBoolean","_string","JSON","parse","groupToggleCaching","_element","_className","toggle","elementCache","value","toggleIt","_state","_group","_targets","_loop","_toggleElement","_toggleGroup","toggleElement","toggleWithHover","togglePropogation","toggleGroup","toggleTargets","Array","from","Modernizr","touchevents","e","stopPropagation","toggleInit","togglr"],"mappings":"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","sourcesContent":["// General & Helper Funcitons\n\nfunction cycleActiveItem( array, interval ) {\n\tfunction cycle( array ) {\n\t\tfor (let i=0; i<array.length; i++) {\n\t\t\tif ( array[i].classList.contains('active') ) {\n\t\t\t\tarray[i].classList.remove('active');\n\t\t\t\tif ( i == array.length - 1 ) {\n\t\t\t\t\tarray[0].classList.add('active');\n\t\t\t\t} else {\n\t\t\t\t\tarray[i + 1].classList.add('active');\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t}\n\tlet cycleTimer = setInterval(() => cycle( array ), interval);\n}\n\n\n\n//Specific Library Functions\n\nfunction navStateSwitcher() {\n\tconst switchableNavs = document.querySelectorAll('[data-nav]');\n\tswitchableNavs.forEach( nav => {\n\t\tlet navItems = [...nav.children];\n\t\tlet minWidth = 0;\n\t\tnavItems.forEach( item => {\n\t\t\tlet itemStyles = getComputedStyle(item);\n\t\t\tlet itemWidth = item.offsetWidth + parseInt(itemStyles.marginLeft) + parseInt(itemStyles.marginRight);\n\t\t\tminWidth += itemWidth;\n\t\t});\n\t\tlet parent = nav.parentNode;\n\t\t// Call the switcher\n\t\tmeasureNav(minWidth, parent);\n\t\twindow.addEventListener('resize', () => measureNav(minWidth, parent));\n\t});\n} window.addEventListener('load', () => navStateSwitcher());\n\nfunction measureNav(minWidth, parent) {\n\tlet parentStyles = getComputedStyle(parent);\n\tlet maxWidth = parent.clientWidth - parseInt(parentStyles.paddingLeft) - parseInt(parentStyles.paddingRight);\n\tconsole.log(maxWidth);\n\tif (minWidth >= maxWidth) {\n\t\tparent.classList.add('mobile');\n\t} else {\n\t\tparent.classList.remove('mobile');\n\t}\n}\n\t\n\nfunction billboard() {\n\tconst billboards = document.querySelectorAll('[data-billboard]');\n\tbillboards.forEach( billboard => {\n\t\tconst slides = [...billboard.getElementsByClassName('billboard-slide')];\n\t\tconst interval = parseInt(billboard.getAttribute('data-billboard')) * 1000;\n\t\tcycleActiveItem(slides,interval);\n\t});\n} window.addEventListener('load', () => billboard());\n\nfunction convertBgImage () {\n\tconst domNodes = document.querySelectorAll('[data-bgimg]');\n\tdomNodes.forEach( node => {\n\t\tlet bgImg = node.getAttribute('data-bgimg');\n\t\tnode.style.backgroundImage = 'url('+bgImg+')';\n\t});\n} window.addEventListener('load', () => convertBgImage());\n\n/*********************************\n* ScrollTriggr.js\n**********************************\n\tAllows arbitrary triggering of css classes on page scroll without screwing around with Javascript directly\n\tUses inline data-attrs to set parameters\n\tRe-calling scrollTriggr() will re-init this utility.\n\t \n\tPARAMETERS:\n\t@param: data-st=\"\"\n\t@required: true\n\t@description: Add this to the element that should be triggered. Can optionally take a custom class name to be triggered.\n\t@value: String -- Any valid CSS class name\n\t@default: on-screen\n\n\t@param: data-st-offset=\"\"\n\t@required: false\n\t@description: Add this to the triggered element. Determines how far onto the page an element should be before it is triggered.\n\t@value: Interger -- A percentage from the BOTTOM of the screen\n\t@default: 10\n\t \n\tDEPENDENCIES:\n\tNone\n*********************************/\n\nfunction scrollTriggr() {\n\t// Set some reference variables\n\tlet windowHeight = 0;\n\tconst scrollables = document.querySelectorAll('[data-st]');\n\tconst scrollableData = [];\n\n\t// scrollTriggr being called? Init!\n\tif (scrollables.length) {\n\t    scrollInit();\n\t}\n\n\t//Calculate element's distance from top of document. (c) 2017 Chris Ferdinandi, MIT License, https://gomakethings.com\n\tfunction getOffsetTop(elem) {\n\t  let distance = 0;\n\t  if (elem.offsetParent) {\n\t    do {\n\t      distance += elem.offsetTop;\n\t      elem = elem.offsetParent;\n\t    } while (elem);\n\t  }\n\t  return distance < 0 ? 0 : distance;\n\t}\n\n\t// Initalize the utility\n\tfunction scrollInit() {\n\t  scrollableData.length = 0;\n\t  scrollables.forEach((element) => {\n\t    //Get properties or set fallbacks\n\t    let scrollClass = element.getAttribute('data-st') ? element.getAttribute('data-st') : 'on-screen';\n\t    let scrollOffset = element.getAttribute('data-st-offset') ? parseInt(element.getAttribute('data-st-offset')) : 20;\n\t    //Create an ojbect for the data and populate it\n\t    const scrollData = {};\n\t    scrollData.element = element;\n\t    scrollData.className = scrollClass;\n\t    scrollData.offset = scrollOffset;\n\t    //Add the new object to the array of objects.\n\t    scrollableData.push(scrollData);\n\t  });\n\t  // Call, the queue the resize event\n\t  scrollResize();\n\t  window.addEventListener('resize',scrollResize, false);\n\t}\n\n\t// Fires on resize\n\tfunction scrollResize() {\n\t  // Re-calc and set the window size\n\t  windowHeight = window.innerHeight;\n\t  // Calculate and store the trigger point for each element.\n\t  scrollableData.forEach((index) => index.triggerPoint = getOffsetTop(index.element) + ( (windowHeight / 100) * index.offset ));\n\t  // Call, queue the scroll event\n\t  scrollScroll();\n\t  window.addEventListener('scroll',scrollScroll, false);\n\t}\n\n\t// Fires on scroll\n\tfunction scrollScroll() {\n\t  // Calculate the relevant scroll position\n\t  let windowBottom = window.scrollY + windowHeight;\n\t  scrollableData.forEach((item,index) => {\n\t    if (windowBottom >= item.triggerPoint) {\n\t      item.element.classList.add(item.className);\n\t      // Remove any triggered items from the array\n\t      scrollableData.splice(index,1);\n\t      // Un-queue scroll and resize events if there are no more items in the queue.\n\t      if (!scrollableData.length) {\n\t        window.removeEventListener('resize',scrollResize, false);\n\t        window.removeEventListener('scroll',scrollScroll, false);\n\t      }\n\t    }\n\t  });\n\t}\n//Fire the script on page load \n} window.addEventListener('load', () => scrollTriggr());\n\n/*********************************\n* TableBreakr.js\n**********************************\n\tIf you would rather re-format than horizontally-scroll a table on mobile, this *ALLOWS* that, if used with CSS.\n\tUses inline data-attrs to set parameters\n\tRe-calling scrollTriggr() will re-init this utility.\n\t \n\tPARAMETERS:\n\t@param: data-bt\n\t@required: true\n\t@description: Add this to the top-level <table> element. Accepts no parameters\n\t@value: none\n\t@default: none\n\t \n\tDEPENDENCIES:\n\tNone\n\n\tBASIC SASS:\n\ttable.broken {\n\t  &, & tbody, & tr, & td { display: block; }\n\t  & tr:first-of-type { display: none; }\n\t  & td:before { content: attr(data-heading); display: block; font-weight: bold; }\n\t}\n*********************************/\n//Table Breaker\nfunction tableBreakr(){\n\tconst tables = document.querySelectorAll('table[data-bt]');\n\t//If there are responsive tables...\n\tif (tables.length) {\n\t\ttableBreakrInit()\n\t}\n\t// Amend Headings\n\tfunction amendHeadings(table,headingText,index) {\n\t\ttable.querySelectorAll('td:nth-of-type('+index+')').forEach((element) => {\n\t\t\telement.setAttribute('data-heading', headingText );\n\t\t});\n\t}\n\t// Isolate Headings\n\tfunction isolateHeadings(table,headings) {\n\t\theadings.forEach((heading, index) => {\n\t\t\tindex++;\n\t\t\tlet headingText = heading.innerText.trim();\n\t\t\tamendHeadings(table,headingText,index);\n\t\t});\n\t}\n\t//For each responsive table...\n\tfunction tableBreakrInit() {\n\ttables.forEach((table) => {\n\t\tlet columnCount = table.querySelectorAll('tr')[0].childElementCount;\n\t\ttable.classList.add( columnCount + '-column' );\n\t\t//Define the header row as either the <th> row, or the first <td> in each column\n\t\tlet headings = table.querySelectorAll('th') || table.querySelectorAll('tr:first-of-type td');\n\t\tisolateHeadings(table,headings);\n\t});\n\t}\n\t// Get the outer width of an element -- youmightnotneedjquery.com\n\tfunction outerWidth(element) {\n\t\tlet width = element.offsetWidth;\n\t\tlet style = getComputedStyle(element);\n\t\twidth += parseInt(style.marginLeft) + parseInt(style.marginRight);\n\t\treturn width;\n\t}\n\t// Toggle the broken class\n\tfunction breakTheTable() {\n\t\ttables.forEach( (table) => {\n\t\t\ttable.classList.remove('broken');\n\t\t\tif ( outerWidth(table) > table.parentNode.offsetWidth ) {\n\t\t\t\ttable.classList.add('broken');\n\t\t\t}\n\t\t});\n\t// Call the resize event at least once to do the check on page load.\n\t} breakTheTable();\n\t// Resize Debouncer\n\tlet resizeTimer = 0;\n\twindow.addEventListener('resize', () => {\n\t\tclearTimeout(resizeTimer);\n\t\tresizeTimer = setTimeout(function() {\n\t\t\tbreakTheTable();\n\t\t}, 250);\n\t});\n// That's it, queue the script!\n} window.addEventListener('load', tableBreakr, false);\n\n/*********************************\n* Togglr.js\n**********************************\n\tAllows arbitrary toggling of css classes without screwing around with Javascript directly\n\tUses inline data-attrs to set parameters\n\tRe-calling togglr() will re-init this utility.\n\t \n\tPARAMETERS:\n\t@param: data-ts=\"\"\n\t@required: true\n\t@description: Add this to the trigger. The value should be any valid CSS selector to target the elements you want to toggle\n\t@value: String -- Any valid CSS selector\n\t@default: none\n\n\t@param: data-ts-class=\"\"\n\t@required: false\n\t@description: Add this to the trigger. This is the class that will be toggled onto the trigger and all the targets\n\t@value: String -- Any valid CSS class name\n\t@default: \"open\"\n\n\t@param: data-ts-prop=\"\"\n\t@required: false\n\t@description: Add this to the trigger. This determines whether or not the toggle will propogate down to child elements.\n\t@value: Boolean\n\t@default: true\n\n\t@param: data-ts-group=\"\"\n\t@required: false\n\t@description: Add this to all the elements you intend to group. \n\t@value: String -- A name for the group\n\t@default: none\n\n\t@param: data-ts-hover=\"\"\n\t@required: false\n\t@description: Whether the toggle should be triggered on hover, added to trigger element\n\t@value: Boolean -- true to trigger on hover, false to trigger only on click\n\t@default: false\n\t \n\tDEPENDENCIES:\n\tModernizr touch testing\n*********************************/\nfunction togglr() {\n  // Utility-wide items and containers\n  const toggleables = document.querySelectorAll('[data-ts],[data-ts-group]');\n  const toggleablesCount = toggleables.length;\n  const toggleableGroups = {};\n  const groupClassCache = [];\n\n  // Togglr being called? Init!\n  if (toggleablesCount) {\n      toggleInit();\n  }\n\n  // Convert string to boolean\n  function toBoolean(_string) {\n    return JSON.parse(_string);\n  }\n\n  // Create or Modify the Toggleable Groups\n  function addToToggleableGroups(_toggleElement,_toggleGroup) {\n    if (!(_toggleGroup in toggleableGroups)) {\n      toggleableGroups[_toggleGroup] = {};\n      toggleableGroups[_toggleGroup].elements = [];\n    }\n    toggleableGroups[_toggleGroup].elements.push(_toggleElement);\n  }\n\n  // Cache the toggled classes for grouping purposes\n  function groupToggleCaching(_element,_className) {\n    _element.classList.toggle(_className);\n    let elementCache = {};\n    elementCache.element = _element;\n    elementCache.className = _element.classList.value;\n    groupClassCache.push(elementCache);\n  }\n  \n  //The actual toggling\n  function toggleIt(_element,_state,_group,_targets,_className){\n    if ( _state === 'over' ) {\n      _targets.forEach( (target) => target.classList.add(_className) );\n      _element.classList.add(_className);\n    } else if ( _state === 'out' ) {\n      _targets.forEach( (target) => target.classList.remove(_className) );\n      _element.classList.remove(_className);\n    } else {\n      _targets.forEach( (target) => {\n        groupToggleCaching(target,_className);\n      });\n      groupToggleCaching(_element,_className);\n      if ( _group ) {\n        _group.elements.forEach( (element) => element.classList.remove(_className) );\n        groupClassCache.forEach( (index) => index.element.classList = index.className );            \n      }\n      groupClassCache.length = 0;\n    }\n  }\n\n    // Initalization\n  function toggleInit() {\n    for (let i=0; i<toggleablesCount; i++) {\n      //Get properties or set fallbacks\n      let toggleElement = toggleables[i];\n      let toggleWithHover = toggleElement.getAttribute('data-ts-hover') ? toBoolean(toggleElement.getAttribute('data-ts-hover')) : false;\n      let togglePropogation = toggleElement.getAttribute('data-ts-prop') ? toBoolean(toggleElement.getAttribute('data-ts-prop')) : true;\n      let toggleGroup = toggleElement.getAttribute('data-ts-group');\n      let toggleTargets = Array.from( document.querySelectorAll( toggleElement.getAttribute('data-ts') ) );\n      let className = toggleElement.getAttribute('data-ts-class') ? toggleElement.getAttribute('data-ts-class') : 'open';\n      //Create/modify grouping if required\n      if ( toggleGroup ) {\n        addToToggleableGroups(toggleElement,toggleGroup);\n        toggleGroup = toggleableGroups[toggleGroup];\n      }\n      //Attach click/hover events as required\n      if ( toggleWithHover && !Modernizr.touchevents ) {\n        toggleElement.addEventListener(\"mouseenter\", () => { toggleIt(toggleElement,'over',toggleGroup,toggleTargets,className); } );\n        toggleElement.addEventListener(\"mouseleave\", () => { toggleIt(toggleElement,'out',toggleGroup,toggleTargets,className); } );\n      } else {\n        toggleElement.addEventListener(\"click\", () => toggleIt(toggleElement,null,toggleGroup,toggleTargets,className) );\n      }\n      //Stops event propogation, if required\n      if (!togglePropogation) {\n        toggleElement.addEventListener(\"click\", e => { e.stopPropagation(); } );\n      }\n    }\n  }\n} togglr();\n\n/*********************************\n* UserControlledElements.js\n**********************************\n\tAllows a user to toggle an element from one state to another for a set amount of time. Designed specifically for CTAs.\n\tThe user's action is cached in localStorage.\n\t \n\tPARAMETERS:\n\t@param: data-uce=\"\"\n\t@required: true\n\t@description: Defines what element is user-controllable.\n\t@value: String -- A UNIQUE name for the element to be controlled, so that it can be stored.\n\t@default: none\n\n\t@param: data-uce-reopen\n\t@required: false\n\t@description: Defines the time, in days, until the UCE will reappear\n\t@value: Float -- can take partial days, or multiple days.\n\t@default: 1\n\n\t@param: data-uce-close\n\t@required: true\n\t@description: Defines the button(s) that can be used to close the UCE. \n\t@value: String -- Any valid CSS selector\n\t@default: none\n\n\t@param: data-uce-close-class\n\t@required: false\n\t@description: Defines the class that will be applied to the element when the user takes action. NOTE this class MUST be applied to the element manually, as it will be removed during init if the element should be showing.\n\t@value: String -- Any valid CSS class\n\t@default: hide\n\n\t@param: data-uce-callback\n\t@required: false\n\t@description: Defines one or more scripts that can be called if the user takes action\n\t@value: String -- Any JavaScript function name\n\t@default: none\n\t \n\tDEPENDENCIES:\n\tNone\n*********************************/\nfunction userControlledElements(els) {\n    const elements = els || document.querySelectorAll('[data-uce]');\n    const fallbackClass = 'd-none';\n    \n    if (elements.length) {\n        uceInit(elements);\n    }\n\n    function uceInit() {\n        elements.forEach( element => registerUCE(element));\n    }\n\n    function registerUCE(element) {\n        const identifier = element.getAttribute('data-uce');\n        const reopenDelay = element.getAttribute('data-uce-reopen') * 86400000;\n        const currentTimestamp = new Date().getTime();\n        if ( !localStorage[identifier] || localStorage[identifier] == 'open' || localStorage[identifier] <= currentTimestamp) {\n            //Register element\n            localStorage[identifier] = 'open'; \n            openUCE(element);\n        }\n    }\n\n    function openUCE(element) {\n        element.getAttribute('data-uce-close-class') ? element.classList.remove( element.getAttribute('data-uce-close-class') ) : element.classList.remove(fallbackClass);\n        element.classList.remove(fallbackClass);\n        const closeTriggers = document.querySelectorAll( element.getAttribute('data-uce-close') );\n        closeTriggers.forEach( (closeTrigger) => {\n            closeTrigger.addEventListener( 'click',() => closeUCE(closeTrigger,element) );\n        });\n    }\n\n    function closeUCE(trigger, target) {\n        const identifier = target.getAttribute('data-uce');\n        const currentTime = new Date().getTime();\n        const delay = target.getAttribute('data-uce-reopen') * 86400000;\n        const closedClass = target.getAttribute('data-uce-close-class') || fallbackClass;\n        target.classList.add(closedClass);\n        if ( target.hasAttribute('data-uce-callback') && window[ target.getAttribute('data-uce-callback') ] ) {\n            window[ target.getAttribute('data-uce-callback') ]();\n        }\n        localStorage[identifier] = currentTime + delay;\n    }\n} window.addEventListener('load', () => userControlledElements());\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n"]}