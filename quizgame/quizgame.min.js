const defaultQuiz={title:"PumpkinFest",darkColor:"black",lightColor:"white",accentColor:"orange",font:"Futura, Verdana, sans-serif",questions:["Which continent do pumpkins NOT grow on?|Africa|*Antartica|Asia|Europe","Where is the pumpkin capital of the world?|Varna, Bulgaria|Chilliwack, BC|Mixco, Guatemala|*Morton, Illinois","In what country did pumpkin carving originate?|*Ireland|America|Bulgaria|Russia","What was the diameter of the largest pumpkin pie ever made?|3 Feet|4 Feet|*5 Feet|6 Feet","Which of these did people used to think pumpkins would cure?|*Snake Bites|COVID 19|Tuberculosis|Rabies","How much did the heaviest pumpkin ever weigh?|300 lbs|527 lbs|*1140 lbs|1372 lbs","What percentage of pumpkin is water?|*90%|70%|50%|30%","Where did pumpkins originate?|North America|*Central America|Europe|South America","Which of these is NOT part of a pumpkin?|Ribs|*Spine|Seed Coat|Brains","Which of these is NOT a pumpkin color?|Red|Blue|Green|*Purple","Which of these can pumpkin lower?|Body Fat|Blood Pressure|*Cholesterol|Self Esteem","Into which food group do pumpkins fit?|*Fruit|Veggie|Dairy|Meat","How many millions of pounds of pumpkins were grown in 2005?|799|124|*496|654","Which of these is NOT a type of pumpkin?|Spooktacular|Munchkin|Funny Face|*Pumptacular","Which of these is NOT an ingredient in pumpkin pie?|Salt|Sugar|*Baking Soda|Flour","What is the world record for fastest pumpkin carving?|*74.8 Seconds|55.2 Seconds|93.0 Seconds|45.5 Seconds","How wide was the smallest pumpkin ever grown?|1/2 inch |*1/2 centimeter|1/2 foot|1/2 decimeter","From what Greek word, meaning 'Large Melon' is the word Pumpkin derived?|Lepon|*Pepon|Mepon|Parthenon","Which of these is known as the Pumpkin State?|New York|*New Hampshire|Illinois|Montana","Which of these is Pastor Mike's favourite pumpkin food?|Pie|Loaf|*Scones|Seeds"]},audioClear="course-clear.mp3",audioCorrect="you-got-it-dude.mp3",audioHallelujah="hallelujah.mp3",audioBigBrain="big-brain.mp3",audioIncorrect="incorrect.mp3",audioPriceHorn="price-horn.mp3",audioFogHorn="fog-horn.mp3",$title=document.getElementById("title"),$done=document.getElementById("all-done"),$question=document.getElementById("questionContent"),$answers=document.getElementsByClassName("answer"),$answer1=document.getElementById("answer-1"),$answer2=document.getElementById("answer-2"),$answer3=document.getElementById("answer-3"),$answer4=document.getElementById("answer-4");let bgImage,correctAnswer,quizLoaded=!1,guesses=0,quiz=JSON.parse(JSON.stringify(defaultQuiz));function processInput(e){let t=e.key.toLowerCase();"a"==t?checkAnswer($answer1):"b"==t?checkAnswer($answer2):"c"==t?checkAnswer($answer3):"d"==t?checkAnswer($answer4):"n"==t?nextQuestion():"?"!=t&&"/"!=t||showInstructions()}function loadQuiz(){quizLoaded&&!confirm("You already have a puzzle loaded. Reload?")||(quizLoaded=!0,correctAnswer=void 0,document.title=quiz.title,$title.innerHTML=quiz.title,$done.classList.add("hide"),loadStyles(quiz),nextQuestion())}function loadStyles(e){let t=`\n\t\t:root {\n\t\t  --white: ${e.lightColor};\n\t\t  --black: ${e.darkColor};\n\t\t  --accent: ${e.accentColor};\n\t\t  --font: ${e.font};\n\t\t}\t\n\t`;const n=document.head;let a=document.createElement("style");n.appendChild(a),a.type="text/css",a.appendChild(document.createTextNode(t))}function nextQuestion(){if(quizLoaded&&quiz.questions.length>0){let e=Math.floor(Math.random()*quiz.questions.length),t=quiz.questions[e].split("|");quiz.questions.splice(e,1),$question.innerHTML=t[0],[...$answers].forEach((e=>e.classList.remove("false","true"))),guesses=0,loadAnswer($answer1,t[1]),loadAnswer($answer2,t[2]),loadAnswer($answer3,t[3]),loadAnswer($answer4,t[4])}else quizLoaded?0==quiz.questions.length&&$done.classList.remove("hide"):alert("You'll need to load a quiz first. Press 'L' to load a quiz.")}function loadAnswer(e,t){t.indexOf("*")>-1&&(t=t.split("*")[1],correctAnswer=e),e.innerHTML=t}function checkAnswer(e){if(guesses++,e==correctAnswer)switch(e.classList.add("true"),[...$answers].forEach((t=>{t!=e&&t.classList.add("false")})),guesses){case 1:playAudio(audioClear);break;case 2:playAudio(audioCorrect);break;case 3:playAudio(audioHallelujah);break;case 4:playAudio(audioBigBrain)}else switch(e.classList.add("false"),guesses){case 1:playAudio(audioIncorrect);break;case 2:playAudio(audioFogHorn);break;case 3:playAudio(audioPriceHorn)}}function playAudio(e){let t=document.createElement("audio");t.src=e,t.addEventListener("ended",(function(){document.removeChild(t)}),!1),t.play()}function showInstructions(){document.getElementById("instructions").classList.toggle("display")}function dropHandler(e){e.preventDefault(),document.getElementById("drop-zone").classList.add("hide"),[...e.dataTransfer.files].forEach((e=>{e.type.indexOf("image")>-1?setImage(e):e.type.indexOf("text")>-1?parseGameText(e):alert("Invalid file type. Upload a properly formatted .txt game file, or a .jpg, .jpeg, or .png file to use a background image.")}))}function parseGameText(e){const t=new FileReader;t.addEventListener("load",(e=>{let t=e.target.result;quiz=JSON.parse(t),loadQuiz(),quizLoaded=!0})),t.readAsText(e)}function setImage(e){const t=new FileReader;t.addEventListener("load",(e=>{bgImage=e.target.result,document.body.style.backgroundImage=`url(${bgImage})`})),t.readAsDataURL(e)}function dragOverHandler(e){e.preventDefault(),document.getElementById("drop-zone").classList.remove("hide")}document.addEventListener("keydown",processInput),loadQuiz();