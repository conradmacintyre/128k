{"version":3,"sources":["fanedit.js"],"names":["window","addEventListener","$","each","dragElement","resizeElement","container","cur","this","width","find","css","on","e","addClass","startX","pageX","originalEvent","touches","dragWidth","outerWidth","posX","offset","left","containerOffset","containerWidth","minLeft","maxLeft","parents","moveX","leftValue","widthValue","removeClass","preventDefault"],"mappings":"yBAWGA,OAAOC,iBAAiB,OAT1B,WACEC,EAAE,oBAAoBC,KAAK,WACzB,IAmBWC,EAAaC,EAAeC,EAnBnCC,EAAML,EAAEM,MAERC,EAAQF,EAAIE,QAAQ,KACxBF,EAAIG,KAAK,wBAAwBC,IAAI,QAASF,GAgBnCL,EAdLG,EAAIG,KAAK,oBAcSL,EAdYE,EAAIG,KAAK,oBAcNJ,EAd2BC,EAiBpEH,EAAYQ,GAAG,uBAAwB,SAASC,GAE9CT,EAAYU,SAAS,aACrBT,EAAcS,SAAS,aAGvB,IAAIC,EAAUF,EAAEG,MAASH,EAAEG,MAAQH,EAAEI,cAAcC,QAAQ,GAAGF,MAG1DG,EAAYf,EAAYgB,aACxBC,EAAOjB,EAAYkB,SAASC,KAAOJ,EAAYJ,EAC/CS,EAAkBlB,EAAUgB,SAASC,KACrCE,EAAiBnB,EAAUc,aAG3BM,EAAUF,EAAkB,GAC5BG,EAAUH,EAAkBC,EAAiBN,EAAY,GAG7Df,EAAYwB,UAAUhB,GAAG,sBAAuB,SAASC,GAGvD,IAAIgB,EAAShB,EAAEG,MAASH,EAAEG,MAAQH,EAAEI,cAAcC,QAAQ,GAAGF,MAEzDc,EAAYD,EAAQR,EAAOF,EAG1BW,EAAYJ,EACfI,EAAYJ,EACHI,EAAYH,IACrBG,EAAYH,GAId,IAAII,EAAyD,KAA3CD,EAAYX,EAAU,EAAIK,GAAqBC,EAAe,IAIhFvB,EAAE,cAAcS,IAAI,OAAQoB,GAAYnB,GAAG,+BAAgC,WACzEV,EAAEM,MAAMwB,YAAY,aACpB3B,EAAc2B,YAAY,eAE5B9B,EAAE,cAAcS,IAAI,QAASoB,KAC5BnB,GAAG,+BAAgC,WACpCR,EAAY4B,YAAY,aACxB3B,EAAc2B,YAAY,eAE5BnB,EAAEoB,mBACDrB,GAAG,+BAAgC,WACpCR,EAAY4B,YAAY,aACxB3B,EAAc2B,YAAY,mBAvD5BhC,OAAOC,iBAAiB,SAN1B,WACEC,EAAE,oBAAoBC,KAAK,WACzB,IAAII,EAAML,EAAEM,MACRC,EAAQF,EAAIE,QAAQ,KACxBF,EAAIG,KAAK,wBAAwBC,IAAI,QAASF","sourcesContent":["// Image comparison\n\t// Call & init\n\tfunction compareInit(){\n\t  $('.compare__slider').each(function(){\n\t    var cur = $(this);\n\t    // Adjust the slider\n\t    var width = cur.width()+'px';\n\t    cur.find('.compare__resize img').css('width', width);\n\t    // Bind dragging events\n\t    drags(cur.find('.compare__handle'), cur.find('.compare__resize'), cur);\n\t  });\n\t} window.addEventListener('load',compareInit);\n\n\t// Update sliders on resize. \n\t// Because we all do this: i.imgur.com/YkbaV.gif\n\tfunction compareResize(){\n\t  $('.compare__slider').each(function(){\n\t    var cur = $(this);\n\t    var width = cur.width()+'px';\n\t    cur.find('.compare__resize img').css('width', width);\n\t  });\n\t} window.addEventListener('resize',compareResize);\n\n\tfunction drags(dragElement, resizeElement, container) {\n\t\t\n\t  // Initialize the dragging event on mousedown.\n\t  dragElement.on('mousedown touchstart', function(e) {\n\t    \n\t    dragElement.addClass('draggable');\n\t    resizeElement.addClass('resizable');\n\t    \n\t    // Check if it's a mouse or touch event and pass along the correct value\n\t    var startX = (e.pageX) ? e.pageX : e.originalEvent.touches[0].pageX;\n\t    \n\t    // Get the initial position\n\t    var dragWidth = dragElement.outerWidth(),\n\t        posX = dragElement.offset().left + dragWidth - startX,\n\t        containerOffset = container.offset().left,\n\t        containerWidth = container.outerWidth();\n\t \n\t    // Set limits\n\t    var minLeft = containerOffset + 10;\n\t    var maxLeft = containerOffset + containerWidth - dragWidth - 10;\n\t    \n\t    // Calculate the dragging distance on mousemove.\n\t    dragElement.parents().on(\"mousemove touchmove\", function(e) {\n\t    \t\n\t      // Check if it's a mouse or touch event and pass along the correct value\n\t      var moveX = (e.pageX) ? e.pageX : e.originalEvent.touches[0].pageX;\n\t      \n\t      var leftValue = moveX + posX - dragWidth;\n\t      \n\t      // Prevent going off limits\n\t      if ( leftValue < minLeft) {\n\t        leftValue = minLeft;\n\t      } else if (leftValue > maxLeft) {\n\t        leftValue = maxLeft;\n\t      }\n\t      \n\t      // Translate the handle's left value to masked divs width.\n\t      var widthValue = (leftValue + dragWidth/2 - containerOffset)*100/containerWidth+'%';\n\t\t\t\t\n\t      // Set the new values for the slider and the handle. \n\t      // Bind mouseup events to stop dragging.\n\t      $('.draggable').css('left', widthValue).on('mouseup touchend touchcancel', function () {\n\t        $(this).removeClass('draggable');\n\t        resizeElement.removeClass('resizable');\n\t      });\n\t      $('.resizable').css('width', widthValue);\n\t    }).on('mouseup touchend touchcancel', function(){\n\t      dragElement.removeClass('draggable');\n\t      resizeElement.removeClass('resizable');\n\t    });\n\t    e.preventDefault();\n\t  }).on('mouseup touchend touchcancel', function(){\n\t    dragElement.removeClass('draggable');\n\t    resizeElement.removeClass('resizable');\n\t  });\n\t}\n\n\n"]}