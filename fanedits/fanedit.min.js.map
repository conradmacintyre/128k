{"version":3,"sources":["fanedit.js"],"names":["window","addEventListener","$","each","dragElement","resizeElement","container","cur","this","width","find","css","on","e","addClass","startX","pageX","originalEvent","touches","dragWidth","outerWidth","posX","offset","left","containerOffset","containerWidth","minLeft","maxLeft","parents","moveX","leftValue","widthValue","removeClass","preventDefault","click","event","form","data","FormData","host","location","hostname","indexOf","append","prop","ajax","type","enctype","url","processData","contentType","cache","timeout","success","html","error","text","responseText"],"mappings":"yBAWGA,OAAOC,iBAAiB,OAT1B,WACEC,EAAE,oBAAoBC,KAAK,WACzB,IAmBWC,EAAaC,EAAeC,EAnBnCC,EAAML,EAAEM,MAERC,EAAQF,EAAIE,QAAQ,KACxBF,EAAIG,KAAK,wBAAwBC,IAAI,QAASF,GAgBnCL,EAdLG,EAAIG,KAAK,oBAcSL,EAdYE,EAAIG,KAAK,oBAcNJ,EAd2BC,EAiBpEH,EAAYQ,GAAG,uBAAwB,SAASC,GAE9CT,EAAYU,SAAS,aACrBT,EAAcS,SAAS,aAGvB,IAAIC,EAAUF,EAAEG,MAASH,EAAEG,MAAQH,EAAEI,cAAcC,QAAQ,GAAGF,MAG1DG,EAAYf,EAAYgB,aACxBC,EAAOjB,EAAYkB,SAASC,KAAOJ,EAAYJ,EAC/CS,EAAkBlB,EAAUgB,SAASC,KACrCE,EAAiBnB,EAAUc,aAG3BM,EAAUF,EAAkB,GAC5BG,EAAUH,EAAkBC,EAAiBN,EAAY,GAG7Df,EAAYwB,UAAUhB,GAAG,sBAAuB,SAASC,GAGvD,IAAIgB,EAAShB,EAAEG,MAASH,EAAEG,MAAQH,EAAEI,cAAcC,QAAQ,GAAGF,MAEzDc,EAAYD,EAAQR,EAAOF,EAG1BW,EAAYJ,EACfI,EAAYJ,EACHI,EAAYH,IACrBG,EAAYH,GAId,IAAII,EAAyD,KAA3CD,EAAYX,EAAU,EAAIK,GAAqBC,EAAe,IAIhFvB,EAAE,cAAcS,IAAI,OAAQoB,GAAYnB,GAAG,+BAAgC,WACzEV,EAAEM,MAAMwB,YAAY,aACpB3B,EAAc2B,YAAY,eAE5B9B,EAAE,cAAcS,IAAI,QAASoB,KAC5BnB,GAAG,+BAAgC,WACpCR,EAAY4B,YAAY,aACxB3B,EAAc2B,YAAY,eAE5BnB,EAAEoB,mBACDrB,GAAG,+BAAgC,WACpCR,EAAY4B,YAAY,aACxB3B,EAAc2B,YAAY,mBAvD5BhC,OAAOC,iBAAiB,SAN1B,WACEC,EAAE,oBAAoBC,KAAK,WACzB,IAAII,EAAML,EAAEM,MACRC,EAAQF,EAAIE,QAAQ,KACxBF,EAAIG,KAAK,wBAAwBC,IAAI,QAASF,OAqGhDT,OAAOC,iBAAiB,OAvC1B,WACCC,EAAE,gBAAgBgC,MAAM,SAAUC,GAE3BA,EAAMF,iBAEN,IAAIG,EAAOlC,EAAE,iBAAiB,GAE1BmC,EAAO,IAAIC,SAASF,GAEpBG,EAAO,KAEVA,EADIC,SAASC,SAASC,QAAQ,SACvB,qBAEA,oCAGRL,EAAKM,OAAO,cAAe,oCAE3BzC,EAAE,gBAAgB0C,KAAK,YAAY,GACnC1C,EAAE2C,KAAK,CACHC,KAAM,OACNC,QAAS,sBACTC,IAAKT,EACLF,KAAMA,EACNY,aAAa,EACbC,aAAa,EACbC,OAAO,EACPC,QAAS,IACTC,QAAS,SAAUhB,GACfnC,EAAE,oBAAoBoD,KAAKjB,IAG/BkB,MAAO,SAAU1C,GACbX,EAAE,wBAAwBsD,KAAK3C,EAAE4C,cAEjCvD,EAAE,gBAAgB0C,KAAK,YAAY","sourcesContent":["// Image comparison (requires jQuery)\n\t// Call & init\n\tfunction compareInit(){\n\t  $('.compare__slider').each(function(){\n\t    var cur = $(this);\n\t    // Adjust the slider\n\t    var width = cur.width()+'px';\n\t    cur.find('.compare__resize img').css('width', width);\n\t    // Bind dragging events\n\t    drags(cur.find('.compare__handle'), cur.find('.compare__resize'), cur);\n\t  });\n\t} window.addEventListener('load',compareInit);\n\n\t// Update sliders on resize. \n\t// Because we all do this: i.imgur.com/YkbaV.gif\n\tfunction compareResize(){\n\t  $('.compare__slider').each(function(){\n\t    var cur = $(this);\n\t    var width = cur.width()+'px';\n\t    cur.find('.compare__resize img').css('width', width);\n\t  });\n\t} window.addEventListener('resize',compareResize);\n\n\tfunction drags(dragElement, resizeElement, container) {\n\t\t\n\t  // Initialize the dragging event on mousedown.\n\t  dragElement.on('mousedown touchstart', function(e) {\n\t    \n\t    dragElement.addClass('draggable');\n\t    resizeElement.addClass('resizable');\n\t    \n\t    // Check if it's a mouse or touch event and pass along the correct value\n\t    var startX = (e.pageX) ? e.pageX : e.originalEvent.touches[0].pageX;\n\t    \n\t    // Get the initial position\n\t    var dragWidth = dragElement.outerWidth(),\n\t        posX = dragElement.offset().left + dragWidth - startX,\n\t        containerOffset = container.offset().left,\n\t        containerWidth = container.outerWidth();\n\t \n\t    // Set limits\n\t    var minLeft = containerOffset + 10;\n\t    var maxLeft = containerOffset + containerWidth - dragWidth - 10;\n\t    \n\t    // Calculate the dragging distance on mousemove.\n\t    dragElement.parents().on(\"mousemove touchmove\", function(e) {\n\t    \t\n\t      // Check if it's a mouse or touch event and pass along the correct value\n\t      var moveX = (e.pageX) ? e.pageX : e.originalEvent.touches[0].pageX;\n\t      \n\t      var leftValue = moveX + posX - dragWidth;\n\t      \n\t      // Prevent going off limits\n\t      if ( leftValue < minLeft) {\n\t        leftValue = minLeft;\n\t      } else if (leftValue > maxLeft) {\n\t        leftValue = maxLeft;\n\t      }\n\t      \n\t      // Translate the handle's left value to masked divs width.\n\t      var widthValue = (leftValue + dragWidth/2 - containerOffset)*100/containerWidth+'%';\n\t\t\t\t\n\t      // Set the new values for the slider and the handle. \n\t      // Bind mouseup events to stop dragging.\n\t      $('.draggable').css('left', widthValue).on('mouseup touchend touchcancel', function () {\n\t        $(this).removeClass('draggable');\n\t        resizeElement.removeClass('resizable');\n\t      });\n\t      $('.resizable').css('width', widthValue);\n\t    }).on('mouseup touchend touchcancel', function(){\n\t      dragElement.removeClass('draggable');\n\t      resizeElement.removeClass('resizable');\n\t    });\n\t    e.preventDefault();\n\t  }).on('mouseup touchend touchcancel', function(){\n\t    dragElement.removeClass('draggable');\n\t    resizeElement.removeClass('resizable');\n\t  });\n\t}\n\n// Form Submission (requires jQuery)\n\tfunction submitForm() {\n\t\t$(\"#form-submit\").click(function (event) {\n\t        //stop submit the form, we will post it manually.\n\t        event.preventDefault();\n\t        // Get form\n\t        var form = $('#request-copy')[0];\n\t\t\t// Create an FormData object \n\t        var data = new FormData(form);\n\t        // check host\n\t        let host = null;\n\t        if ( location.hostname.indexOf('local') ) {\n\t        \thost = 'message_sender.php';\n\t        } else {\n\t        \thost = '/test/fanedits/message_sender.php';\n\t        }\n\t\t\t// If you want to add an extra field for the FormData\n\t        data.append(\"CustomField\", \"This is some extra data, testing\");\n\t\t\t// disabled the submit button\n\t        $(\"#form-submit\").prop(\"disabled\", true);\n\t        $.ajax({\n\t            type: \"POST\",\n\t            enctype: 'multipart/form-data',\n\t            url: host,\n\t            data: data,\n\t            processData: false,\n\t            contentType: false,\n\t            cache: false,\n\t            timeout: 600000,\n\t            success: function (data) {\n\t                $('#popup-container').html(data);\n\t                // console.log(\"SUCCESS : \", data);\n\t            },\n\t            error: function (e) {\n\t                $(\".alert.error-message\").text(e.responseText);\n\t                // console.log(\"ERROR : \", e);\n\t                $(\"#form-submit\").prop(\"disabled\", false);\n\t            }\n\t        });\n\t    });\n\t} window.addEventListener('load',submitForm);\n\n"]}